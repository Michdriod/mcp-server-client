ðŸš€ Starting Database Query Assistant API Server...
ðŸ“‹ Loading environment variables from .env...
âœ… Environment variables loaded
ðŸ”§ Activating virtual environment...
âœ… Redis is running - caching enabled
ðŸŽ¯ Starting API server on port 8000...
INFO:     Started server process [75969]
INFO:     Waiting for application startup.


â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
â”‚                                                                              â”‚
â”‚                                FastMCP 2.13.1                                â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â”‚                   ðŸ–¥  Server name: Database Query Assistant                   â”‚
â”‚                                                                              â”‚
â”‚                   ðŸ“¦ Transport:   STDIO                                      â”‚
â”‚                                                                              â”‚
â”‚                   ðŸ“š Docs:        https://gofastmcp.com                      â”‚
â”‚                   ðŸš€ Hosting:     https://fastmcp.cloud                      â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯


[12/07/25 23:19:04] INFO     Starting MCP server 'Database Query  server.py:1971
                             Assistant' with transport 'stdio'                  
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
ðŸš€ Starting MCP client connection...
âœ… MCP client connected and ready
INFO:     127.0.0.1:60773 - "POST /api/saved-queries HTTP/1.1" 200 OK
INFO:     127.0.0.1:60818 - "GET /api/saved-queries?user_id=1 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:60974 - "OPTIONS /api/query HTTP/1.1" 200 OK
DEBUG - MCP Result keys: dict_keys(['rows', 'row_count', 'columns', 'execution_time_ms', 'cached', 'sql', 'explanation', 'confidence', 'question', 'status'])
DEBUG - MCP Result: {'rows': [{'id': 1, 'name': 'John Doe', 'email': 'john@example.com'}], 'row_count': 1, 'columns': ['id', 'name', 'email'], 'execution_time_ms': 11.59, 'cached': False, 'sql': "SELECT DISTINCT c.id, c.name, c.email FROM customers c JOIN orders o ON c.id = o.customer_id JOIN order_items oi ON o.id = oi.order_id JOIN products p ON oi.product_id = p.id WHERE p.name ILIKE '%keyboard%'", 'explanation': "Retrieves the ids, names, and emails of customers who have ordered products with 'keyboard' in the name", 'confidence': 0.9, 'question': 'Which customers ordered keyboards?', 'status': 'success'}
INFO:     127.0.0.1:60974 - "POST /api/query HTTP/1.1" 200 OK
INFO:     127.0.0.1:61025 - "OPTIONS /api/saved-queries HTTP/1.1" 200 OK
INFO:     127.0.0.1:61025 - "POST /api/saved-queries HTTP/1.1" 200 OK
INFO:     127.0.0.1:61025 - "OPTIONS /api/saved-queries?user_id=1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61025 - "GET /api/saved-queries?user_id=1 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:61092 - "GET /api/saved-queries?user_id=1 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:61128 - "GET /api/saved-queries?user_id=1 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:61166 - "GET /api/saved-queries?user_id=1 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:62917 - "GET /api/saved-queries?user_id=1 HTTP/1.1" 500 Internal Server Error
ðŸš€ Starting Database Query Assistant API Server...
ðŸ“‹ Loading environment variables from .env...
âœ… Environment variables loaded
ðŸ”§ Activating virtual environment...
âœ… Redis is running - caching enabled
ðŸŽ¯ Starting API server on port 8000...
INFO:     Started server process [82552]
INFO:     Waiting for application startup.


â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
â”‚                                                                              â”‚
â”‚                                FastMCP 2.13.1                                â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â”‚                   ðŸ–¥  Server name: Database Query Assistant                   â”‚
â”‚                                                                              â”‚
â”‚                   ðŸ“¦ Transport:   STDIO                                      â”‚
â”‚                                                                              â”‚
â”‚                   ðŸ“š Docs:        https://gofastmcp.com                      â”‚
â”‚                   ðŸš€ Hosting:     https://fastmcp.cloud                      â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯


[12/07/25 23:44:33] INFO     Starting MCP server 'Database Query  server.py:1971
                             Assistant' with transport 'stdio'                  
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
ðŸš€ Starting MCP client connection...
âœ… MCP client connected and ready
INFO:     127.0.0.1:50862 - "DELETE /api/saved-queries/1?user_id=1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50869 - "GET /api/saved-queries?user_id=1 HTTP/1.1" 200 OK
./start_api.sh: line 46: 82552 Killed: 9               python server/api_server.py
ðŸš€ Starting Database Query Assistant API Server...
ðŸ“‹ Loading environment variables from .env...
âœ… Environment variables loaded
ðŸ”§ Activating virtual environment...
âœ… Redis is running - caching enabled
ðŸŽ¯ Starting API server on port 8000...
INFO:     Started server process [84551]
INFO:     Waiting for application startup.


â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
â”‚                                                                              â”‚
â”‚                                FastMCP 2.13.1                                â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â”‚                   ðŸ–¥  Server name: Database Query Assistant                   â”‚
â”‚                                                                              â”‚
â”‚                   ðŸ“¦ Transport:   STDIO                                      â”‚
â”‚                                                                              â”‚
â”‚                   ðŸ“š Docs:        https://gofastmcp.com                      â”‚
â”‚                   ðŸš€ Hosting:     https://fastmcp.cloud                      â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯


[12/07/25 23:49:41] INFO     Starting MCP server 'Database Query  server.py:1971
                             Assistant' with transport 'stdio'                  
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
ðŸš€ Starting MCP client connection...
âœ… MCP client connected and ready
DEBUG - History result: {'error': "Failed to get history: 'str' object has no attribute 'value'", 'status': 'error'}
INFO:     127.0.0.1:52217 - "GET /api/history?user_id=1&days=7 HTTP/1.1" 200 OK
DEBUG - MCP Result keys: dict_keys(['rows', 'row_count', 'columns', 'execution_time_ms', 'cached', 'sql', 'explanation', 'confidence', 'question', 'status'])
DEBUG - MCP Result: {'rows': [{'id': 1, 'name': 'John Doe', 'email': 'john@example.com', 'phone': '555-0101', 'created_at': '2025-11-20T14:11:57.914972', 'updated_at': '2025-11-20T14:11:57.914972'}, {'id': 2, 'name': 'Jane Smith', 'email': 'jane@example.com', 'phone': '555-0102', 'created_at': '2025-11-20T14:11:57.914972', 'updated_at': '2025-11-20T14:11:57.914972'}, {'id': 3, 'name': 'Bob Johnson', 'email': 'bob@example.com', 'phone': '555-0103', 'created_at': '2025-11-20T14:11:57.914972', 'updated_at': '2025-11-20T14:11:57.914972'}, {'id': 4, 'name': 'Alice Williams', 'email': 'alice@example.com', 'phone': '555-0104', 'created_at': '2025-11-20T14:11:57.914972', 'updated_at': '2025-11-20T14:11:57.914972'}, {'id': 5, 'name': 'Charlie Brown', 'email': 'charlie@example.com', 'phone': '555-0105', 'created_at': '2025-11-20T14:11:57.914972', 'updated_at': '2025-11-20T14:11:57.914972'}], 'row_count': 5, 'columns': ['id', 'name', 'email', 'phone', 'created_at', 'updated_at'], 'execution_time_ms': 8.36, 'cached': False, 'sql': 'SELECT id, name, email, phone, created_at, updated_at FROM customers LIMIT 1000', 'explanation': 'Retrieves first 1000 customers with their basic information', 'confidence': 0.95, 'question': 'Show me all customers', 'status': 'success'}
INFO:     127.0.0.1:52298 - "POST /api/query HTTP/1.1" 200 OK
DEBUG - History result: {'error': "Failed to get history: 'str' object has no attribute 'value'", 'status': 'error'}
INFO:     127.0.0.1:52370 - "GET /api/history?user_id=1&days=7 HTTP/1.1" 200 OK
DEBUG - History result: {'error': "Failed to get history: 'str' object has no attribute 'value'", 'status': 'error'}
INFO:     127.0.0.1:52810 - "GET /api/history?user_id=1&days=7 HTTP/1.1" 200 OK
DEBUG - History result: {'error': "Failed to get history: 'str' object has no attribute 'value'", 'status': 'error'}
INFO:     127.0.0.1:53841 - "GET /api/history?user_id=1&days=7 HTTP/1.1" 200 OK
./start_api.sh: line 46: 84551 Killed: 9               python server/api_server.py
